<header id="header" data-current-skin={{mactrl.currentSkin}} data-ng-include="'template/header.html'"
        data-ng-controller="headerCtrl as hctrl"></header>

<section id="main">


    <section id="content" class="page-view">

        <div class="container">
            <div class="block-header"></div>
            <div class="card" data-ng-controller="hubController">
                <div class="card-header ch-alt m-b-20">
                    <h2>
                        Hub Dashboard
                        <small>Manage multiple readers.
                        </small>
                    </h2>
                    <a ui-sref="test">test</a>
                    <ul class="actions">
                        <li>
                            <a href="" ng-click="discover()"> <i class="zmdi zmdi-refresh-alt"></i>
                            </a>
                        </li>
                    </ul>

                    <button class="btn bgm-cyan btn-float" ng-click="addAgent($event)">
                        <i class="zmdi zmdi-plus"></i>
                    </button>
                </div>

                <div class="card-body">
                    <div class="listview lv-bordered lv-lg">

                        <div class="lv-item media" href="" data-ng-repeat="agent in agents" style="cursor: pointer;" ui-sref="reader({ip:agent.ip,name:agent.name})"
                             ui-sref-opts="{reload: true, notify: true}">

                                <div class="pull-left">
                                    <img class="lv-img-sm" data-ng-src="img/icons/reader.png" alt="">
                                </div>
                                <div class="media-body">
                                    <div class="lv-title">
                                        {{ agent.name }} ({{agent.ip}})
                                        <span class="label label-info" ng-if="agent.status==0">disconnected</span>
                                        <span class="label label-warning" ng-if="agent.status==1">connected</span>
                                        <span class="label label-success" ng-if="agent.status==2">reading</span>
                                    </div>
                                    <small class="lv-small">{{ agent.remark }}</small>
                                    <small class="lv-small">
                                    Created at {{agent.createdTime|date:'yy-MM-dd HH:mm'}} | Updated at {{agent.lastUpdatedTime|date:'yy-MM-dd HH:mm'}}
                                    </small>
                                    <div class="lv-actions actions dropdown" uib-dropdown="">
                                        <a href="" uib-dropdown-toggle="" aria-expanded="false" class="dropdown-toggle"
                                           aria-haspopup="true">
                                            <i class="zmdi zmdi-more-vert"></i>
                                        </a>

                                        <ul class="dropdown-menu dropdown-menu-right" style="text-align: left;">
                                            <li href="" ng-click="editAgent($event, agent)">
                                                <a href="">
                                                    <i class="zmdi zmdi-edit zmdi-hc-fw"></i>Edit &nbsp;&nbsp;
                                                </a>
                                            </li>
                                            <li>
                                                <a href="" ng-click="removeAgent(agent.ip)">
                                                    <i class="zmdi zmdi-delete zmdi-hc-fw"></i>Delete &nbsp;&nbsp;
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                        </div>

                        <div class="clearfix"></div>

                        <a class="lv-footer" href="">View All</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
</section>

<footer id="footer" data-ng-include="'template/footer.html'"></footer>